{"ast":null,"code":"import { createPopper } from '@popperjs/core';\nimport { getElementChild, getElementParents, getAttributeValueByBreakpoint, getUniqueIdWithPrefix, DataUtil, ElementStyleUtil, EventHandlerUtil, insertAfterElement, slideUp, slideDown, DOMEventHandlerUtil, throttle, getHighestZindex } from '../_utils/index';\nconst defaultMenuOptions = {\n  dropdown: {\n    hoverTimeout: 200,\n    zindex: 105\n  },\n  accordion: {\n    slideSpeed: 250,\n    expand: false\n  }\n};\n\nclass MenuComponent {\n  constructor(_element2, options) {\n    this.element = void 0;\n    this.options = void 0;\n    this.instanceUid = void 0;\n    this.triggerElement = null;\n\n    this._setTriggerElement = () => {\n      const target = document.querySelector(`[data-kt-menu-target=\"#${this.element.getAttribute('id')}\"`);\n\n      if (target) {\n        this.triggerElement = target;\n      } else if (this.element.closest('[data-kt-menu-trigger]')) {\n        this.triggerElement = this.element.closest('[data-kt-menu-trigger]');\n      } else if (this.element.parentNode && getElementChild(this.element.parentNode, '[data-kt-menu-trigger]')) {\n        const child = getElementChild(this.element.parentNode, '[data-kt-menu-trigger]');\n\n        if (child) {\n          this.triggerElement = child;\n        }\n      }\n\n      if (this.triggerElement) {\n        DataUtil.set(this.triggerElement, 'menu', this);\n      }\n    };\n\n    this._isTriggerElement = item => {\n      return this.triggerElement === item;\n    };\n\n    this._getItemOption = (item, name) => {\n      let value = null;\n\n      if (item && item.hasAttribute('data-kt-menu-' + name)) {\n        const attr = item.getAttribute('data-kt-menu-' + name) || '';\n        value = getAttributeValueByBreakpoint(attr);\n\n        if (value !== null && String(value) === 'true') {\n          value = true;\n        } else if (value !== null && String(value) === 'false') {\n          value = false;\n        }\n      }\n\n      return value;\n    };\n\n    this._getItemElement = _element => {\n      // Element is the external trigger element\n      if (this._isTriggerElement(_element)) {\n        return _element;\n      } // Element has item toggler attribute\n\n\n      if (_element.hasAttribute('data-kt-menu-trigger')) {\n        return _element;\n      } // Element has item DOM reference in it's data storage\n\n\n      const itemElement = DataUtil.get(_element, 'item');\n\n      if (itemElement) {\n        return itemElement;\n      } // Item is parent of element\n\n\n      const item = _element.closest('.menu-item[data-kt-menu-trigger]');\n\n      if (item) {\n        return item;\n      } // Element's parent has item DOM reference in it's data storage\n\n\n      const sub = _element.closest('.menu-sub');\n\n      if (sub) {\n        const subItem = DataUtil.get(sub, 'item');\n\n        if (subItem) {\n          return subItem;\n        }\n      }\n    };\n\n    this._getItemParentElement = item => {\n      const sub = item.closest('.menu-sub');\n\n      if (!sub) {\n        return null;\n      }\n\n      const subItem = DataUtil.get(sub, 'item');\n\n      if (subItem) {\n        return subItem;\n      }\n\n      const parentItem = sub.closest('.menu-item[data-kt-menu-trigger]');\n\n      if (sub && parentItem) {\n        return parentItem;\n      }\n\n      return null;\n    };\n\n    this._getItemParentElements = item => {\n      const parents = [];\n      let parent;\n      let i = 0;\n      let buffer = item;\n\n      do {\n        parent = this._getItemParentElement(buffer);\n\n        if (parent) {\n          parents.push(parent);\n          buffer = parent;\n        }\n\n        i++;\n      } while (parent !== null && i < 20);\n\n      if (this.triggerElement) {\n        parents.unshift(this.triggerElement);\n      }\n\n      return parents;\n    };\n\n    this._getDropdownPopperConfig = item => {\n      // Placement\n      const placementOption = this._getItemOption(item, 'placement');\n\n      let placement = 'right';\n\n      if (placementOption) {\n        placement = placementOption;\n      } // Flip\n      // const flipValue = this._getItemOption(item, 'flip')\n      // const flip = flipValue ? flipValue.toString().split(',') : []\n      // Offset\n\n\n      const offsetValue = this._getItemOption(item, 'offset');\n\n      const offset = offsetValue ? offsetValue.toString().split(',') : []; // Strategy\n\n      const strategy = this._getItemOption(item, 'overflow') === true ? 'absolute' : 'fixed';\n      return {\n        placement: placement,\n        strategy: strategy,\n        modifiers: [{\n          name: 'offset',\n          options: {\n            offset: offset\n          }\n        }, {\n          name: 'preventOverflow'\n        }, {\n          name: 'flip',\n          options: {\n            // altBoundary: true,\n            // fallbackPlacements: flip,\n            flipVariations: false\n          }\n        }]\n      };\n    };\n\n    this._getItemChildElement = item => {\n      let selector = item;\n      const subItem = DataUtil.get(item, 'sub');\n\n      if (subItem) {\n        selector = subItem;\n      }\n\n      if (selector) {\n        //element = selector.querySelector('.show.menu-item[data-kt-menu-trigger]');\n        const element = selector.querySelector('.menu-item[data-kt-menu-trigger]');\n\n        if (element) {\n          return element;\n        }\n      }\n\n      return null;\n    };\n\n    this._getItemChildElements = item => {\n      const children = [];\n      let child;\n      let i = 0;\n      let buffer = item;\n\n      do {\n        child = this._getItemChildElement(buffer);\n\n        if (child) {\n          children.push(child);\n          buffer = child;\n        }\n\n        i++;\n      } while (child !== null && i < 20);\n\n      return children;\n    };\n\n    this._getItemSubElement = item => {\n      if (!item) {\n        return null;\n      }\n\n      if (this._isTriggerElement(item)) {\n        return this.element;\n      }\n\n      if (item.classList.contains('menu-sub')) {\n        return item;\n      } else if (DataUtil.has(item, 'sub')) {\n        return DataUtil.get(item, 'sub');\n      } else {\n        return getElementChild(item, '.menu-sub');\n      }\n    };\n\n    this._getCss = (el, styleProp) => {\n      const defaultView = (el.ownerDocument || document).defaultView;\n\n      if (!defaultView) {\n        return '';\n      } // sanitize property name to css notation\n      // (hyphen separated words eg. font-Size)\n\n\n      styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\n      return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n    };\n\n    this._getItemSubType = element => {\n      const sub = this._getItemSubElement(element);\n\n      if (sub && parseInt(this._getCss(sub, 'z-index')) > 0) {\n        return 'dropdown';\n      } else {\n        return 'accordion';\n      }\n    };\n\n    this._isItemSubShown = item => {\n      let sub = this._getItemSubElement(item);\n\n      if (sub) {\n        if (this._getItemSubType(item) === 'dropdown') {\n          return sub.classList.contains('show') && sub.hasAttribute('data-popper-placement');\n        } else {\n          return item.classList.contains('show');\n        }\n      }\n\n      return false;\n    };\n\n    this._isItemDropdownPermanent = item => {\n      return this._getItemOption(item, 'permanent') === true;\n    };\n\n    this._isItemParentShown = item => {\n      return getElementParents(item, '.menu-item.show').length > 0;\n    };\n\n    this._isItemSubElement = item => {\n      return item.classList.contains('menu-sub');\n    };\n\n    this._hasItemSub = item => {\n      return item.classList.contains('menu-item') && item.hasAttribute('data-kt-menu-trigger');\n    };\n\n    this._getItemLinkElement = item => {\n      return getElementChild(item, '.menu-link');\n    };\n\n    this._getItemToggleElement = item => {\n      if (this.triggerElement) {\n        return this.triggerElement;\n      }\n\n      return this._getItemLinkElement(item);\n    };\n\n    this._showDropdown = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.show') === false) {\n        return;\n      } // Hide all currently shown dropdowns except current one\n\n\n      MenuComponent.hideDropdowns(item); // const toggle = this._isTriggerElement(item) ? item : this._getItemLinkElement(item);\n\n      const sub = this._getItemSubElement(item);\n\n      const width = this._getItemOption(item, 'width');\n\n      const height = this._getItemOption(item, 'height');\n\n      let zindex = this.options.dropdown.zindex;\n      const parentZindex = getHighestZindex(item); // update\n      // Apply a new z-index if dropdown's toggle element or it's parent has greater z-index // update\n\n      if (parentZindex !== null && parentZindex >= zindex) {\n        zindex = parentZindex + 1;\n      }\n\n      if (zindex) {\n        ElementStyleUtil.set(sub, 'z-index', zindex);\n      }\n\n      if (width) {\n        ElementStyleUtil.set(sub, 'width', width);\n      }\n\n      if (height) {\n        ElementStyleUtil.set(sub, 'height', height);\n      }\n\n      this.initDropdownPopper(item, sub);\n      item.classList.add('show');\n      item.classList.add('menu-dropdown');\n      sub.classList.add('show'); // Append the sub the the root of the menu\n\n      if (this._getItemOption(item, 'overflow') === true) {\n        document.body.appendChild(sub);\n        DataUtil.set(item, 'sub', sub);\n        DataUtil.set(sub, 'item', item);\n        DataUtil.set(sub, 'menu', this);\n      } else {\n        DataUtil.set(sub, 'item', item);\n      }\n\n      EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.shown');\n    };\n\n    this.initDropdownPopper = (item, sub) => {\n      // Setup popper instance\n      let reference;\n\n      const attach = this._getItemOption(item, 'attach');\n\n      if (attach) {\n        if (attach === 'parent') {\n          reference = item.parentNode;\n        } else {\n          reference = document.querySelector(attach);\n        }\n      } else {\n        reference = item;\n      }\n\n      if (reference) {\n        const popper = createPopper(reference, sub, this._getDropdownPopperConfig(item));\n        DataUtil.set(item, 'popper', popper);\n      }\n    };\n\n    this._hideDropdown = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hide') === false) {\n        return;\n      }\n\n      const sub = this._getItemSubElement(item);\n\n      ElementStyleUtil.set(sub, 'z-index', '');\n      ElementStyleUtil.set(sub, 'width', '');\n      ElementStyleUtil.set(sub, 'height', '');\n      item.classList.remove('show');\n      item.classList.remove('menu-dropdown');\n      sub.classList.remove('show'); // Append the sub back to it's parent\n\n      if (this._getItemOption(item, 'overflow') === true) {\n        if (item.classList.contains('menu-item')) {\n          item.appendChild(sub);\n        } else {\n          insertAfterElement(this.element, item);\n        }\n\n        DataUtil.remove(item, 'sub');\n        DataUtil.remove(sub, 'item');\n        DataUtil.remove(sub, 'menu');\n      }\n\n      if (DataUtil.has(item, 'popper') === true) {\n        DataUtil.get(item, 'popper').destroy();\n        DataUtil.remove(item, 'popper');\n      } // Destroy popper(new)\n\n\n      this.destroyDropdownPopper(item);\n      EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden');\n    };\n\n    this.destroyDropdownPopper = item => {\n      if (DataUtil.has(item, 'popper') === true) {\n        DataUtil.get(item, 'popper').destroy();\n        DataUtil.remove(item, 'popper');\n      }\n\n      EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden');\n    };\n\n    this._showAccordion = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.show') === false) {\n        return;\n      }\n\n      if (this.options.accordion.expand === false) {\n        this._hideAccordions(item);\n      }\n\n      if (DataUtil.has(item, 'popper') === true) {\n        this._hideDropdown(item);\n      }\n\n      item.classList.add('hover'); // updateWW\n\n      item.classList.add('showing');\n\n      const subElement = this._getItemSubElement(item);\n\n      if (subElement) {\n        const sub = subElement;\n        slideDown(sub, this.options.accordion.slideSpeed, () => {\n          item.classList.remove('showing');\n          item.classList.add('show');\n          sub.classList.add('show');\n          EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.shown');\n        });\n      }\n    };\n\n    this._hideAccordion = item => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hide') === false) {\n        return;\n      }\n\n      const sub = this._getItemSubElement(item);\n\n      item.classList.add('hiding');\n\n      if (sub) {\n        slideUp(sub, this.options.accordion.slideSpeed, () => {\n          item.classList.remove('hiding');\n          item.classList.remove('show');\n          sub.classList.remove('show');\n          item.classList.remove('hover'); // update\n\n          EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hidden');\n        });\n      }\n    };\n\n    this._hideAccordions = item => {\n      const itemsToHide = this.element.querySelectorAll('.show[data-kt-menu-trigger]');\n\n      if (itemsToHide && itemsToHide.length > 0) {\n        for (var i = 0, len = itemsToHide.length; i < len; i++) {\n          const itemToHide = itemsToHide[i];\n\n          if (this._getItemSubType(itemToHide) === 'accordion' && itemToHide !== item && item.contains(itemToHide) === false && itemToHide.contains(item) === false) {\n            this._hideAccordion(itemToHide);\n          }\n        }\n      }\n    };\n\n    this._reset = item => {\n      if (this._hasItemSub(item) === false) {\n        return;\n      }\n\n      const sub = this._getItemSubElement(item); // Reset sub state if sub type is changed during the window resize\n\n\n      if (DataUtil.has(item, 'type') && DataUtil.get(item, 'type') !== this._getItemSubType(item)) {\n        // updated\n        item.classList.remove('hover');\n        item.classList.remove('show');\n        item.classList.remove('show');\n\n        if (sub && sub.removeClass) {\n          sub.removeClass(sub, 'show');\n        }\n      } // updated\n\n    };\n\n    this._destroy = () => {};\n\n    this._update = () => {\n      const items = this.element.querySelectorAll('.menu-item[data-kt-menu-trigger]');\n      items.forEach(el => this._reset(el));\n    };\n\n    this._hide = item => {\n      if (!item) {\n        return;\n      }\n\n      if (this._isItemSubShown(item) === false) {\n        return;\n      }\n\n      if (this._getItemSubType(item) === 'dropdown') {\n        this._hideDropdown(item);\n      } else if (this._getItemSubType(item) === 'accordion') {\n        this._hideAccordion(item);\n      }\n    };\n\n    this._show = item => {\n      if (!item) {\n        return;\n      }\n\n      if (this._isItemSubShown(item) === true) {\n        return;\n      }\n\n      if (this._getItemSubType(item) === 'dropdown') {\n        this._showDropdown(item); // // show current dropdown\n\n      } else if (this._getItemSubType(item) === 'accordion') {\n        this._showAccordion(item);\n      } // Remember last submenu type\n\n\n      DataUtil.set(item, 'type', this._getItemSubType(item)); // updated\n    };\n\n    this._toggle = item => {\n      if (!item) {\n        return;\n      }\n\n      if (this._isItemSubShown(item) === true) {\n        this._hide(item);\n      } else {\n        this._show(item);\n      }\n    };\n\n    this._mouseout = (element, e) => {\n      const item = this._getItemElement(element);\n\n      if (!item) {\n        return;\n      }\n\n      if (this._getItemOption(item, 'trigger') !== 'hover') {\n        return;\n      }\n\n      const timeout = setTimeout(() => {\n        if (DataUtil.get(item, 'hover') === '1') {\n          this._hide(item);\n        }\n      }, this.options.dropdown.hoverTimeout);\n      DataUtil.set(item, 'hover', '1');\n      DataUtil.set(item, 'timeout', timeout);\n    };\n\n    this._mouseover = (element, e) => {\n      const item = this._getItemElement(element);\n\n      if (!item) {\n        return;\n      }\n\n      if (this._getItemOption(item, 'trigger') !== 'hover') {\n        return;\n      }\n\n      if (DataUtil.get(item, 'hover') === '1') {\n        clearTimeout(DataUtil.get(item, 'timeout'));\n        DataUtil.remove(item, 'hover');\n        DataUtil.remove(item, 'timeout');\n      }\n\n      this._show(item);\n    };\n\n    this._dismiss = (element, e) => {\n      const item = this._getItemElement(element);\n\n      const items = this._getItemChildElements(item); //if ( item !== null && _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\n\n\n      const itemSubType = this._getItemSubType(item);\n\n      if (item !== null && itemSubType === 'dropdown') {\n        this._hide(item); // hide items dropdown\n        // Hide all child elements as well\n\n\n        if (items.length > 0) {\n          for (let i = 0, len = items.length; i < len; i++) {\n            //if ( _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\n            if (items[i] !== null && this._getItemSubType(items[i]) === 'dropdown') {\n              this._hide(items[i]);\n            }\n          }\n        }\n      }\n    };\n\n    this._link = (element, e) => {\n      if (EventHandlerUtil.trigger(this.element, 'kt.menu.link.click') === false) {\n        return;\n      } // Dismiss all shown dropdowns\n\n\n      MenuComponent.hideDropdowns(undefined);\n      EventHandlerUtil.trigger(this.element, 'kt.menu.link.clicked');\n    };\n\n    this._click = (element, e) => {\n      e.preventDefault();\n\n      const item = this._getItemElement(element);\n\n      if (this._getItemOption(item, 'trigger') !== 'click') {\n        return;\n      }\n\n      if (this._getItemOption(item, 'toggle') === false) {\n        this._show(item);\n      } else {\n        this._toggle(item);\n      }\n    };\n\n    this.click = (element, e) => {\n      return this._click(element, e);\n    };\n\n    this.link = (element, e) => {\n      return this._link(element, e);\n    };\n\n    this.dismiss = (element, e) => {\n      return this._dismiss(element, e);\n    };\n\n    this.mouseover = (element, e) => {\n      return this._mouseover(element, e);\n    };\n\n    this.mouseout = (element, e) => {\n      return this._mouseout(element, e);\n    };\n\n    this.getItemTriggerType = item => {\n      return this._getItemOption(item, 'trigger');\n    };\n\n    this.getItemSubType = element => {\n      return this._getItemSubType(element);\n    };\n\n    this.show = item => {\n      return this._show(item);\n    };\n\n    this.hide = item => {\n      return this._hide(item);\n    };\n\n    this.reset = item => {\n      return this._reset(item);\n    };\n\n    this.update = () => {\n      return this._update();\n    };\n\n    this.getElement = () => {\n      return this.element;\n    };\n\n    this.getItemLinkElement = item => {\n      return this._getItemLinkElement(item);\n    };\n\n    this.getItemToggleElement = item => {\n      return this._getItemToggleElement(item);\n    };\n\n    this.getItemSubElement = item => {\n      return this._getItemSubElement(item);\n    };\n\n    this.getItemParentElements = item => {\n      return this._getItemParentElements(item);\n    };\n\n    this.isItemSubShown = item => {\n      return this._isItemSubShown(item);\n    };\n\n    this.isItemParentShown = item => {\n      return this._isItemParentShown(item);\n    };\n\n    this.getTriggerElement = () => {\n      return this.triggerElement;\n    };\n\n    this.isItemDropdownPermanent = item => {\n      return this._isItemDropdownPermanent(item);\n    };\n\n    this.hideAccordions = item => {\n      return this._hideAccordions(item);\n    };\n\n    this.on = (name, handler) => {\n      return EventHandlerUtil.on(this.element, name, handler);\n    };\n\n    this.one = (name, handler) => {\n      return EventHandlerUtil.one(this.element, name, handler);\n    };\n\n    this.off = name => {\n      return EventHandlerUtil.off(this.element, name);\n    };\n\n    this.element = _element2;\n    this.options = Object.assign(defaultMenuOptions, options);\n    this.instanceUid = getUniqueIdWithPrefix('menu'); // this.element.setAttribute('data-kt-menu', 'true')\n\n    this._setTriggerElement();\n\n    this._update();\n\n    DataUtil.set(this.element, 'menu', this);\n    return this;\n  } // Set external trigger element\n\n\n}\n\nMenuComponent.getInstance = element => {\n  // Element has menu DOM reference in it's DATA storage\n  const elementMenu = DataUtil.get(element, 'menu');\n\n  if (elementMenu) {\n    return elementMenu;\n  } // Element has .menu parent\n\n\n  const menu = element.closest('.menu');\n\n  if (menu) {\n    const menuData = DataUtil.get(menu, 'menu');\n\n    if (menuData) {\n      return menuData;\n    }\n  } // Element has a parent with DOM reference to .menu in it's DATA storage\n\n\n  if (element.classList.contains('menu-link')) {\n    const sub = element.closest('.menu-sub');\n\n    if (sub) {\n      const subMenu = DataUtil.get(sub, 'menu');\n\n      if (subMenu) {\n        return subMenu;\n      }\n    }\n  }\n\n  return null;\n};\n\nMenuComponent.hideDropdowns = skip => {\n  const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]');\n\n  if (items && items.length > 0) {\n    for (let i = 0, len = items.length; i < len; i++) {\n      const item = items[i];\n      const menu = MenuComponent.getInstance(item);\n\n      if (menu && menu.getItemSubType(item) === 'dropdown') {\n        if (skip) {\n          if (menu.getItemSubElement(item).contains(skip) === false && item.contains(skip) === false && item !== skip) {\n            menu.hide(item);\n          }\n        } else {\n          menu.hide(item);\n        }\n      }\n    }\n  }\n};\n\nMenuComponent.updateDropdowns = () => {\n  const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]');\n\n  if (items && items.length > 0) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      var item = items[i];\n\n      if (DataUtil.has(item, 'popper')) {\n        DataUtil.get(item, 'popper').forceUpdate();\n      }\n    }\n  }\n};\n\nMenuComponent.createInstances = selector => {\n  // Initialize menus\n  document.querySelectorAll(selector).forEach(el => {\n    const menuItem = el;\n    let menuInstance = MenuComponent.getInstance(menuItem);\n\n    if (!menuInstance) {\n      menuInstance = new MenuComponent(el, defaultMenuOptions);\n    }\n  });\n};\n\nMenuComponent.initGlobalHandlers = () => {\n  // Dropdown handler\n  document.addEventListener('click', e => {\n    const menuItems = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]');\n\n    if (menuItems && menuItems.length > 0) {\n      for (let i = 0; i < menuItems.length; i++) {\n        const item = menuItems[i];\n        const menuObj = MenuComponent.getInstance(item);\n\n        if (menuObj && menuObj.getItemSubType(item) === 'dropdown') {\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          const menu = menuObj.getElement();\n          const sub = menuObj.getItemSubElement(item);\n\n          if (item === e.target || item.contains(e.target)) {\n            continue;\n          }\n\n          if (sub && (sub === e.target || sub.contains(e.target))) {\n            continue;\n          }\n\n          menuObj.hide(item);\n        }\n      }\n    }\n  }); // Sub toggle handler\n\n  DOMEventHandlerUtil.on(document.body, '.menu-item[data-kt-menu-trigger] > .menu-link, [data-kt-menu-trigger]:not(.menu-item):not([data-kt-menu-trigger=\"auto\"])', 'click', function (e) {\n    const menu = MenuComponent.getInstance(this);\n\n    if (menu) {\n      return menu.click(this, e);\n    }\n  }); // // Link handler\n\n  DOMEventHandlerUtil.on(document.body, '.menu-item:not([data-kt-menu-trigger]) > .menu-link', 'click', function (e) {\n    e.stopPropagation();\n    const menu = MenuComponent.getInstance(this);\n\n    if (menu && menu.link) {\n      return menu.link(this, e);\n    }\n  }); // Dismiss handler\n\n  DOMEventHandlerUtil.on(document.body, '[data-kt-menu-dismiss=\"true\"]', 'click', function (e) {\n    const menu = MenuComponent.getInstance(this);\n\n    if (menu) {\n      return menu.dismiss(this, e);\n    }\n  }); // Mouseover handler\n\n  DOMEventHandlerUtil.on(document.body, '[data-kt-menu-trigger], .menu-sub', 'mouseover', function (e) {\n    const menu = MenuComponent.getInstance(this);\n\n    if (menu && menu.getItemSubType(this) === 'dropdown') {\n      return menu.mouseover(this, e);\n    }\n  }); // Mouseout handler\n\n  DOMEventHandlerUtil.on(document.body, '[data-kt-menu-trigger], .menu-sub', 'mouseout', function (e) {\n    const menu = MenuComponent.getInstance(this);\n\n    if (menu && menu.getItemSubType(this) === 'dropdown') {\n      return menu.mouseout(this, e);\n    }\n  }); // Resize handler\n\n  window.addEventListener('resize', () => {\n    let timer;\n    throttle(timer, () => {\n      // Locate and update Drawer instances on window resize\n      const elements = document.querySelectorAll('[data-kt-menu=\"true\"]');\n      elements.forEach(el => {\n        const menu = MenuComponent.getInstance(el);\n\n        if (menu) {\n          menu.update();\n        }\n      });\n    }, 200);\n  });\n};\n\nMenuComponent.bootstrap = () => {\n  MenuComponent.initGlobalHandlers();\n  MenuComponent.createInstances('[data-kt-menu=\"true\"]');\n};\n\nMenuComponent.reinitialization = () => {\n  MenuComponent.createInstances('[data-kt-menu=\"true\"]');\n};\n\nMenuComponent.createInsance = (selector, options = defaultMenuOptions) => {\n  const element = document.body.querySelector(selector);\n\n  if (!element) {\n    return;\n  }\n\n  const item = element;\n  let menu = MenuComponent.getInstance(item);\n\n  if (!menu) {\n    menu = new MenuComponent(item, options);\n  }\n\n  return menu;\n};\n\nexport { MenuComponent, defaultMenuOptions };","map":{"version":3,"sources":["/Users/joseluis/Desarrollos/Template/MetronicReact1/src/_metronic/assets/ts/components/MenuComponent.ts"],"names":["createPopper","getElementChild","getElementParents","getAttributeValueByBreakpoint","getUniqueIdWithPrefix","DataUtil","ElementStyleUtil","EventHandlerUtil","insertAfterElement","slideUp","slideDown","DOMEventHandlerUtil","throttle","getHighestZindex","defaultMenuOptions","dropdown","hoverTimeout","zindex","accordion","slideSpeed","expand","MenuComponent","constructor","_element","options","element","instanceUid","triggerElement","_setTriggerElement","target","document","querySelector","getAttribute","closest","parentNode","child","set","_isTriggerElement","item","_getItemOption","name","value","hasAttribute","attr","String","_getItemElement","itemElement","get","sub","subItem","_getItemParentElement","parentItem","_getItemParentElements","parents","parent","i","buffer","push","unshift","_getDropdownPopperConfig","placementOption","placement","offsetValue","offset","toString","split","strategy","modifiers","flipVariations","_getItemChildElement","selector","_getItemChildElements","children","_getItemSubElement","classList","contains","has","_getCss","el","styleProp","defaultView","ownerDocument","replace","toLowerCase","getComputedStyle","getPropertyValue","_getItemSubType","parseInt","_isItemSubShown","_isItemDropdownPermanent","_isItemParentShown","length","_isItemSubElement","_hasItemSub","_getItemLinkElement","_getItemToggleElement","_showDropdown","trigger","hideDropdowns","width","height","parentZindex","initDropdownPopper","add","body","appendChild","reference","attach","popper","_hideDropdown","remove","destroy","destroyDropdownPopper","_showAccordion","_hideAccordions","subElement","_hideAccordion","itemsToHide","querySelectorAll","len","itemToHide","_reset","removeClass","_destroy","_update","items","forEach","_hide","_show","_toggle","_mouseout","e","timeout","setTimeout","_mouseover","clearTimeout","_dismiss","itemSubType","_link","undefined","_click","preventDefault","click","link","dismiss","mouseover","mouseout","getItemTriggerType","getItemSubType","show","hide","reset","update","getElement","getItemLinkElement","getItemToggleElement","getItemSubElement","getItemParentElements","isItemSubShown","isItemParentShown","getTriggerElement","isItemDropdownPermanent","hideAccordions","on","handler","one","off","Object","assign","getInstance","elementMenu","menu","menuData","subMenu","skip","updateDropdowns","forceUpdate","createInstances","menuItem","menuInstance","initGlobalHandlers","addEventListener","menuItems","menuObj","stopPropagation","window","timer","elements","bootstrap","reinitialization","createInsance"],"mappings":"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","sourcesContent":["import {createPopper, VirtualElement} from '@popperjs/core'\r\nimport {\r\n  getElementChild,\r\n  getElementParents,\r\n  getAttributeValueByBreakpoint,\r\n  getUniqueIdWithPrefix,\r\n  DataUtil,\r\n  ElementStyleUtil,\r\n  EventHandlerUtil,\r\n  insertAfterElement,\r\n  slideUp,\r\n  slideDown,\r\n  DOMEventHandlerUtil,\r\n  throttle,\r\n  getHighestZindex,\r\n} from '../_utils/index'\r\n\r\nexport interface MenuOptions {\r\n  dropdown: {\r\n    hoverTimeout: number\r\n    zindex: number\r\n  }\r\n  accordion: {\r\n    slideSpeed: number\r\n    expand: boolean\r\n  }\r\n}\r\n\r\nconst defaultMenuOptions: MenuOptions = {\r\n  dropdown: {\r\n    hoverTimeout: 200,\r\n    zindex: 105,\r\n  },\r\n  accordion: {\r\n    slideSpeed: 250,\r\n    expand: false,\r\n  },\r\n}\r\n\r\ntype PopperPlacement =\r\n  | 'right'\r\n  | 'auto'\r\n  | 'auto-start'\r\n  | 'auto-end'\r\n  | 'top'\r\n  | 'bottom'\r\n  | 'left'\r\n  | 'top-start'\r\n  | 'top-end'\r\n  | 'bottom-start'\r\n  | 'bottom-end'\r\n  | 'right-start'\r\n  | 'right-end'\r\n  | 'left-start'\r\n  | 'left-end'\r\n  | undefined\r\n\r\nclass MenuComponent {\r\n  element: HTMLElement\r\n  options: MenuOptions\r\n  instanceUid: string\r\n  triggerElement: HTMLElement | null = null\r\n\r\n  constructor(_element: HTMLElement, options: MenuOptions) {\r\n    this.element = _element\r\n    this.options = Object.assign(defaultMenuOptions, options)\r\n    this.instanceUid = getUniqueIdWithPrefix('menu')\r\n    // this.element.setAttribute('data-kt-menu', 'true')\r\n    this._setTriggerElement()\r\n    this._update()\r\n    DataUtil.set(this.element, 'menu', this)\r\n    return this\r\n  }\r\n\r\n  // Set external trigger element\r\n  private _setTriggerElement = () => {\r\n    const target = document.querySelector(\r\n      `[data-kt-menu-target=\"#${this.element.getAttribute('id')}\"`\r\n    )\r\n\r\n    if (target) {\r\n      this.triggerElement = target as HTMLElement\r\n    } else if (this.element.closest('[data-kt-menu-trigger]')) {\r\n      this.triggerElement = this.element.closest('[data-kt-menu-trigger]') as HTMLElement\r\n    } else if (\r\n      this.element.parentNode &&\r\n      getElementChild(this.element.parentNode as HTMLElement, '[data-kt-menu-trigger]')\r\n    ) {\r\n      const child = getElementChild(\r\n        this.element.parentNode as HTMLElement,\r\n        '[data-kt-menu-trigger]'\r\n      )\r\n      if (child) {\r\n        this.triggerElement = child\r\n      }\r\n    }\r\n\r\n    if (this.triggerElement) {\r\n      DataUtil.set(this.triggerElement, 'menu', this)\r\n    }\r\n  }\r\n\r\n  // Test if menu has external trigger element\r\n  private _isTriggerElement = (item: HTMLElement) => {\r\n    return this.triggerElement === item\r\n  }\r\n\r\n  // Get item option(through html attributes)\r\n  private _getItemOption = (item: HTMLElement, name: string) => {\r\n    let value: string | JSON | null | boolean = null\r\n    if (item && item.hasAttribute('data-kt-menu-' + name)) {\r\n      const attr = item.getAttribute('data-kt-menu-' + name) || ''\r\n      value = getAttributeValueByBreakpoint(attr)\r\n      if (value !== null && String(value) === 'true') {\r\n        value = true\r\n      } else if (value !== null && String(value) === 'false') {\r\n        value = false\r\n      }\r\n    }\r\n    return value\r\n  }\r\n\r\n  // Get item element\r\n  private _getItemElement = (_element: HTMLElement) => {\r\n    // Element is the external trigger element\r\n    if (this._isTriggerElement(_element)) {\r\n      return _element\r\n    }\r\n\r\n    // Element has item toggler attribute\r\n    if (_element.hasAttribute('data-kt-menu-trigger')) {\r\n      return _element\r\n    }\r\n\r\n    // Element has item DOM reference in it's data storage\r\n    const itemElement = DataUtil.get(_element, 'item')\r\n    if (itemElement) {\r\n      return itemElement\r\n    }\r\n\r\n    // Item is parent of element\r\n    const item = _element.closest('.menu-item[data-kt-menu-trigger]')\r\n    if (item) {\r\n      return item\r\n    }\r\n\r\n    // Element's parent has item DOM reference in it's data storage\r\n    const sub = _element.closest('.menu-sub')\r\n    if (sub) {\r\n      const subItem = DataUtil.get(sub as HTMLElement, 'item')\r\n      if (subItem) {\r\n        return subItem\r\n      }\r\n    }\r\n  }\r\n\r\n  // Get item parent element\r\n  private _getItemParentElement = (item: HTMLElement) => {\r\n    const sub = item.closest('.menu-sub')\r\n    if (!sub) {\r\n      return null\r\n    }\r\n\r\n    const subItem = DataUtil.get(sub as HTMLElement, 'item')\r\n    if (subItem) {\r\n      return subItem\r\n    }\r\n\r\n    const parentItem = sub.closest('.menu-item[data-kt-menu-trigger]')\r\n    if (sub && parentItem) {\r\n      return parentItem\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  // Get item parent elements\r\n  private _getItemParentElements = (item: HTMLElement) => {\r\n    const parents:Array<Element> = []\r\n    let parent:Element\r\n    let i = 0\r\n    let buffer:HTMLElement = item\r\n\r\n    do {\r\n      parent = this._getItemParentElement(buffer)\r\n      if (parent) {\r\n        parents.push(parent)\r\n        buffer = parent as HTMLElement\r\n      }\r\n\r\n      i++\r\n    } while (parent !== null && i < 20)\r\n\r\n    if (this.triggerElement) {\r\n      parents.unshift(this.triggerElement)\r\n    }\r\n\r\n    return parents\r\n  }\r\n\r\n  // Prepare popper config for dropdown(see: https://popper.js.org/docs/v2/)\r\n  private _getDropdownPopperConfig = (item: HTMLElement) => {\r\n    // Placement\r\n    const placementOption = this._getItemOption(item, 'placement')\r\n    let placement: PopperPlacement = 'right'\r\n    if (placementOption) {\r\n      placement = placementOption as PopperPlacement\r\n    }\r\n\r\n    // Flip\r\n    // const flipValue = this._getItemOption(item, 'flip')\r\n    // const flip = flipValue ? flipValue.toString().split(',') : []\r\n\r\n    // Offset\r\n    const offsetValue = this._getItemOption(item, 'offset')\r\n    const offset = offsetValue ? offsetValue.toString().split(',') : []\r\n\r\n    // Strategy\r\n    const strategy: 'absolute' | 'fixed' | undefined =\r\n      this._getItemOption(item, 'overflow') === true ? 'absolute' : 'fixed'\r\n\r\n    return {\r\n      placement: placement,\r\n      strategy: strategy,\r\n      modifiers: [\r\n        {\r\n          name: 'offset',\r\n          options: {\r\n            offset: offset,\r\n          },\r\n        },\r\n        {\r\n          name: 'preventOverflow'\r\n        },\r\n        {\r\n          name: 'flip',\r\n          options: {\r\n            // altBoundary: true,\r\n            // fallbackPlacements: flip,\r\n            flipVariations: false\r\n          },\r\n        },\r\n      ],\r\n    }\r\n  }\r\n\r\n  // Get item child element\r\n  private _getItemChildElement = (item: HTMLElement) => {\r\n    let selector = item\r\n\r\n    const subItem = DataUtil.get(item, 'sub')\r\n    if (subItem) {\r\n      selector = subItem\r\n    }\r\n\r\n    if (selector) {\r\n      //element = selector.querySelector('.show.menu-item[data-kt-menu-trigger]');\r\n      const element = selector.querySelector('.menu-item[data-kt-menu-trigger]')\r\n      if (element) {\r\n        return element\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  // Get item child elements\r\n  private _getItemChildElements = (item: HTMLElement) => {\r\n    const children: Array<Element> = []\r\n    let child:Element | null\r\n    let i = 0\r\n    let buffer = item\r\n    do {\r\n      child = this._getItemChildElement(buffer)\r\n      if (child) {\r\n        children.push(child)\r\n        buffer = child as HTMLElement\r\n      }\r\n\r\n      i++\r\n    } while (child !== null && i < 20)\r\n\r\n    return children\r\n  }\r\n\r\n  // Get item sub element\r\n  private _getItemSubElement = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return null\r\n    }\r\n\r\n    if (this._isTriggerElement(item)) {\r\n      return this.element\r\n    }\r\n\r\n    if (item.classList.contains('menu-sub')) {\r\n      return item\r\n    } else if (DataUtil.has(item, 'sub')) {\r\n      return DataUtil.get(item, 'sub')\r\n    } else {\r\n      return getElementChild(item, '.menu-sub')\r\n    }\r\n  }\r\n\r\n  private _getCss = (el: HTMLElement, styleProp: string) => {\r\n    const defaultView = (el.ownerDocument || document).defaultView\r\n    if (!defaultView) {\r\n      return ''\r\n    }\r\n\r\n    // sanitize property name to css notation\r\n    // (hyphen separated words eg. font-Size)\r\n    styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase()\r\n\r\n    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp)\r\n  }\r\n\r\n  // Get item sub type\r\n  private _getItemSubType = (element: HTMLElement) => {\r\n    const sub = this._getItemSubElement(element)\r\n    if (sub && parseInt(this._getCss(sub, 'z-index')) > 0) {\r\n      return 'dropdown'\r\n    } else {\r\n      return 'accordion'\r\n    }\r\n  }\r\n\r\n  // Test if item's sub is shown\r\n  private _isItemSubShown = (item: HTMLElement) => {\r\n    let sub = this._getItemSubElement(item)\r\n    if (sub) {\r\n      if (this._getItemSubType(item) === 'dropdown') {\r\n        return sub.classList.contains('show') && sub.hasAttribute('data-popper-placement')\r\n      } else {\r\n        return item.classList.contains('show')\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  // Test if item dropdown is permanent\r\n  private _isItemDropdownPermanent = (item: HTMLElement) => {\r\n    return this._getItemOption(item, 'permanent') === true\r\n  }\r\n\r\n  // Test if item's parent is shown\r\n  private _isItemParentShown = (item: HTMLElement) => {\r\n    return getElementParents(item, '.menu-item.show').length > 0\r\n  }\r\n\r\n  // Test of it is item sub element\r\n  private _isItemSubElement = (item: HTMLElement) => {\r\n    return item.classList.contains('menu-sub')\r\n  }\r\n\r\n  // Test if item has sub\r\n  private _hasItemSub = (item: HTMLElement) => {\r\n    return item.classList.contains('menu-item') && item.hasAttribute('data-kt-menu-trigger')\r\n  }\r\n\r\n  // Get link element\r\n  private _getItemLinkElement = (item: HTMLElement) => {\r\n    return getElementChild(item, '.menu-link')\r\n  }\r\n\r\n  // Get toggle element\r\n  private _getItemToggleElement = (item: HTMLElement) => {\r\n    if (this.triggerElement) {\r\n      return this.triggerElement\r\n    }\r\n\r\n    return this._getItemLinkElement(item)\r\n  }\r\n\r\n  // Show item dropdown\r\n  private _showDropdown = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.show') === false) {\r\n      return\r\n    }\r\n\r\n    // Hide all currently shown dropdowns except current one\r\n    MenuComponent.hideDropdowns(item)\r\n\r\n    // const toggle = this._isTriggerElement(item) ? item : this._getItemLinkElement(item);\r\n    const sub = this._getItemSubElement(item)\r\n    const width = this._getItemOption(item, 'width')\r\n    const height = this._getItemOption(item, 'height')\r\n\r\n    let zindex = this.options.dropdown.zindex\r\n    const parentZindex = getHighestZindex(item) // update\r\n    // Apply a new z-index if dropdown's toggle element or it's parent has greater z-index // update\r\n    if (parentZindex !== null && parentZindex >= zindex) {\r\n      zindex = parentZindex + 1\r\n    }\r\n\r\n    if (zindex) {\r\n      ElementStyleUtil.set(sub, 'z-index', zindex)\r\n    }\r\n\r\n    if (width) {\r\n      ElementStyleUtil.set(sub, 'width', width)\r\n    }\r\n\r\n    if (height) {\r\n      ElementStyleUtil.set(sub, 'height', height)\r\n    }\r\n\r\n    this.initDropdownPopper(item, sub)\r\n\r\n    item.classList.add('show')\r\n    item.classList.add('menu-dropdown')\r\n    sub.classList.add('show')\r\n\r\n    // Append the sub the the root of the menu\r\n    if (this._getItemOption(item, 'overflow') === true) {\r\n      document.body.appendChild(sub)\r\n      DataUtil.set(item, 'sub', sub)\r\n      DataUtil.set(sub, 'item', item)\r\n      DataUtil.set(sub, 'menu', this)\r\n    } else {\r\n      DataUtil.set(sub, 'item', item)\r\n    }\r\n\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.shown')\r\n  }\r\n\r\n  // Init dropdown popper(new)\r\n  private initDropdownPopper = (item: HTMLElement, sub: HTMLElement) => {\r\n    // Setup popper instance\r\n    let reference\r\n    const attach = this._getItemOption(item, 'attach') as string\r\n\r\n    if (attach) {\r\n      if (attach === 'parent') {\r\n        reference = item.parentNode\r\n      } else {\r\n        reference = document.querySelector(attach)\r\n      }\r\n    } else {\r\n      reference = item\r\n    }\r\n\r\n    if (reference) {\r\n      const popper = createPopper(\r\n        reference as Element | VirtualElement,\r\n        sub,\r\n        this._getDropdownPopperConfig(item)\r\n      )\r\n      DataUtil.set(item, 'popper', popper)\r\n    }\r\n  }\r\n\r\n  // Hide item dropdown\r\n  private _hideDropdown = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hide') === false) {\r\n      return\r\n    }\r\n\r\n    const sub = this._getItemSubElement(item)\r\n    ElementStyleUtil.set(sub, 'z-index', '')\r\n    ElementStyleUtil.set(sub, 'width', '')\r\n    ElementStyleUtil.set(sub, 'height', '')\r\n    item.classList.remove('show')\r\n    item.classList.remove('menu-dropdown')\r\n    sub.classList.remove('show')\r\n\r\n    // Append the sub back to it's parent\r\n    if (this._getItemOption(item, 'overflow') === true) {\r\n      if (item.classList.contains('menu-item')) {\r\n        item.appendChild(sub)\r\n      } else {\r\n        insertAfterElement(this.element, item)\r\n      }\r\n\r\n      DataUtil.remove(item, 'sub')\r\n      DataUtil.remove(sub, 'item')\r\n      DataUtil.remove(sub, 'menu')\r\n    }\r\n\r\n    if (DataUtil.has(item, 'popper') === true) {\r\n      DataUtil.get(item, 'popper').destroy()\r\n      DataUtil.remove(item, 'popper')\r\n    }\r\n\r\n    // Destroy popper(new)\r\n    this.destroyDropdownPopper(item)\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden')\r\n  }\r\n\r\n  // Destroy dropdown popper(new)\r\n  private destroyDropdownPopper = (item: HTMLElement) => {\r\n    if (DataUtil.has(item, 'popper') === true) {\r\n      DataUtil.get(item, 'popper').destroy()\r\n      DataUtil.remove(item, 'popper')\r\n    }\r\n\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.dropdown.hidden')\r\n  }\r\n\r\n  private _showAccordion = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.show') === false) {\r\n      return\r\n    }\r\n\r\n    if (this.options.accordion.expand === false) {\r\n      this._hideAccordions(item)\r\n    }\r\n\r\n    if (DataUtil.has(item, 'popper') === true) {\r\n      this._hideDropdown(item)\r\n    }\r\n\r\n    item.classList.add('hover') // updateWW\r\n    item.classList.add('showing')\r\n\r\n    const subElement = this._getItemSubElement(item)\r\n    if (subElement) {\r\n      const sub = subElement as HTMLElement\r\n      slideDown(sub, this.options.accordion.slideSpeed, () => {\r\n        item.classList.remove('showing')\r\n        item.classList.add('show')\r\n        sub.classList.add('show')\r\n        EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.shown')\r\n      })\r\n    }\r\n  }\r\n\r\n  private _hideAccordion = (item: HTMLElement) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hide') === false) {\r\n      return\r\n    }\r\n\r\n    const sub = this._getItemSubElement(item)\r\n    item.classList.add('hiding')\r\n\r\n    if (sub) {\r\n      slideUp(sub, this.options.accordion.slideSpeed, () => {\r\n        item.classList.remove('hiding')\r\n        item.classList.remove('show')\r\n        sub.classList.remove('show')\r\n        item.classList.remove('hover') // update\r\n        EventHandlerUtil.trigger(this.element, 'kt.menu.accordion.hidden')\r\n      })\r\n    }\r\n  }\r\n\r\n  // Hide all shown accordions of item\r\n  private _hideAccordions = (item: HTMLElement) => {\r\n    const itemsToHide = this.element.querySelectorAll('.show[data-kt-menu-trigger]')\r\n    if (itemsToHide && itemsToHide.length > 0) {\r\n      for (var i = 0, len = itemsToHide.length; i < len; i++) {\r\n        const itemToHide = itemsToHide[i] as HTMLElement\r\n\r\n        if (\r\n          this._getItemSubType(itemToHide) === 'accordion' &&\r\n          itemToHide !== item &&\r\n          item.contains(itemToHide) === false &&\r\n          itemToHide.contains(item) === false\r\n        ) {\r\n          this._hideAccordion(itemToHide)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Event Handlers\r\n  // Reset item state classes if item sub type changed\r\n  private _reset = (item: HTMLElement) => {\r\n    if (this._hasItemSub(item) === false) {\r\n      return\r\n    }\r\n\r\n    const sub = this._getItemSubElement(item)\r\n\r\n    // Reset sub state if sub type is changed during the window resize\r\n    if (DataUtil.has(item, 'type') && DataUtil.get(item, 'type') !== this._getItemSubType(item)) {\r\n      // updated\r\n      item.classList.remove('hover')\r\n      item.classList.remove('show')\r\n      item.classList.remove('show')\r\n      if (sub && sub.removeClass) {\r\n        sub.removeClass(sub, 'show')\r\n      }\r\n    } // updated\r\n  }\r\n\r\n  // TODO: not done\r\n  private _destroy = () => {}\r\n\r\n  // Update all item state classes if item sub type changed\r\n  private _update = () => {\r\n    const items = this.element.querySelectorAll('.menu-item[data-kt-menu-trigger]')\r\n    items.forEach((el) => this._reset(el as HTMLElement))\r\n  }\r\n\r\n  // Hide item sub\r\n  private _hide = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._isItemSubShown(item) === false) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemSubType(item) === 'dropdown') {\r\n      this._hideDropdown(item)\r\n    } else if (this._getItemSubType(item) === 'accordion') {\r\n      this._hideAccordion(item)\r\n    }\r\n  }\r\n\r\n  // Show item sub\r\n  private _show = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._isItemSubShown(item) === true) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemSubType(item) === 'dropdown') {\r\n      this._showDropdown(item) // // show current dropdown\r\n    } else if (this._getItemSubType(item) === 'accordion') {\r\n      this._showAccordion(item)\r\n    }\r\n\r\n    // Remember last submenu type\r\n\r\n    DataUtil.set(item, 'type', this._getItemSubType(item)) // updated\r\n  }\r\n\r\n  // Toggle item sub\r\n  private _toggle = (item: HTMLElement) => {\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._isItemSubShown(item) === true) {\r\n      this._hide(item)\r\n    } else {\r\n      this._show(item)\r\n    }\r\n  }\r\n\r\n  // Mouseout handle\r\n  private _mouseout = (element: HTMLElement, e: MouseEvent) => {\r\n    const item = this._getItemElement(element)\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemOption(item, 'trigger') !== 'hover') {\r\n      return\r\n    }\r\n\r\n    const timeout = setTimeout(() => {\r\n      if (DataUtil.get(item, 'hover') === '1') {\r\n        this._hide(item)\r\n      }\r\n    }, this.options.dropdown.hoverTimeout)\r\n\r\n    DataUtil.set(item, 'hover', '1')\r\n    DataUtil.set(item, 'timeout', timeout)\r\n  }\r\n\r\n  // Mouseover handle\r\n  private _mouseover = (element: HTMLElement, e: MouseEvent) => {\r\n    const item = this._getItemElement(element)\r\n    if (!item) {\r\n      return\r\n    }\r\n\r\n    if (this._getItemOption(item, 'trigger') !== 'hover') {\r\n      return\r\n    }\r\n\r\n    if (DataUtil.get(item, 'hover') === '1') {\r\n      clearTimeout(DataUtil.get(item, 'timeout'))\r\n      DataUtil.remove(item, 'hover')\r\n      DataUtil.remove(item, 'timeout')\r\n    }\r\n\r\n    this._show(item)\r\n  }\r\n\r\n  // Dismiss handler\r\n  private _dismiss = (element: HTMLElement, e: Event) => {\r\n    const item = this._getItemElement(element)\r\n    const items = this._getItemChildElements(item)\r\n    //if ( item !== null && _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\r\n    const itemSubType = this._getItemSubType(item)\r\n    if (item !== null && itemSubType === 'dropdown') {\r\n      this._hide(item) // hide items dropdown\r\n\r\n      // Hide all child elements as well\r\n      if (items.length > 0) {\r\n        for (let i = 0, len = items.length; i < len; i++) {\r\n          //if ( _getItemOption(item, 'trigger') === 'click' &&  _getItemSubType(item) === 'dropdown' ) {\r\n          if (items[i] !== null && this._getItemSubType(items[i] as HTMLElement) === 'dropdown') {\r\n            this._hide(items[i] as HTMLElement)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Link handler\r\n  private _link = (element: HTMLElement, e: Event) => {\r\n    if (EventHandlerUtil.trigger(this.element, 'kt.menu.link.click') === false) {\r\n      return\r\n    }\r\n\r\n    // Dismiss all shown dropdowns\r\n    MenuComponent.hideDropdowns(undefined)\r\n    EventHandlerUtil.trigger(this.element, 'kt.menu.link.clicked')\r\n  }\r\n\r\n  private _click = (element: HTMLElement, e: Event) => {\r\n    e.preventDefault()\r\n    const item = this._getItemElement(element)\r\n    if (this._getItemOption(item, 'trigger') !== 'click') {\r\n      return\r\n    }\r\n\r\n    if (this._getItemOption(item, 'toggle') === false) {\r\n      this._show(item)\r\n    } else {\r\n      this._toggle(item)\r\n    }\r\n  }\r\n\r\n  ///////////////////////\r\n  // ** Public API  ** //\r\n  ///////////////////////\r\n  public click = (element: HTMLElement, e: Event) => {\r\n    return this._click(element, e)\r\n  }\r\n\r\n  public link = (element: HTMLElement, e: Event) => {\r\n    return this._link(element, e)\r\n  }\r\n\r\n  public dismiss = (element: HTMLElement, e: Event) => {\r\n    return this._dismiss(element, e)\r\n  }\r\n\r\n  public mouseover = (element: HTMLElement, e: Event) => {\r\n    return this._mouseover(element, e as MouseEvent)\r\n  }\r\n\r\n  public mouseout = (element: HTMLElement, e: Event) => {\r\n    return this._mouseout(element, e as MouseEvent)\r\n  }\r\n\r\n  // General Methods\r\n  public getItemTriggerType = (item: HTMLElement) => {\r\n    return this._getItemOption(item, 'trigger')\r\n  }\r\n\r\n  public getItemSubType = (element: HTMLElement) => {\r\n    return this._getItemSubType(element)\r\n  }\r\n\r\n  public show = (item: HTMLElement) => {\r\n    return this._show(item)\r\n  }\r\n\r\n  public hide = (item: HTMLElement) => {\r\n    return this._hide(item)\r\n  }\r\n\r\n  public reset = (item: HTMLElement) => {\r\n    return this._reset(item)\r\n  }\r\n\r\n  public update = () => {\r\n    return this._update()\r\n  }\r\n\r\n  public getElement = () => {\r\n    return this.element\r\n  }\r\n\r\n  public getItemLinkElement = (item: HTMLElement) => {\r\n    return this._getItemLinkElement(item)\r\n  }\r\n\r\n  public getItemToggleElement = (item: HTMLElement) => {\r\n    return this._getItemToggleElement(item)\r\n  }\r\n\r\n  public getItemSubElement = (item: HTMLElement) => {\r\n    return this._getItemSubElement(item)\r\n  }\r\n\r\n  public getItemParentElements = (item: HTMLElement) => {\r\n    return this._getItemParentElements(item)\r\n  }\r\n\r\n  public isItemSubShown = (item: HTMLElement) => {\r\n    return this._isItemSubShown(item)\r\n  }\r\n\r\n  public isItemParentShown = (item: HTMLElement) => {\r\n    return this._isItemParentShown(item)\r\n  }\r\n\r\n  public getTriggerElement = () => {\r\n    return this.triggerElement\r\n  }\r\n\r\n  public isItemDropdownPermanent = (item: HTMLElement) => {\r\n    return this._isItemDropdownPermanent(item)\r\n  }\r\n\r\n  // Accordion Mode Methods\r\n  public hideAccordions = (item: HTMLElement) => {\r\n    return this._hideAccordions(item)\r\n  }\r\n\r\n  // Event API\r\n  public on = (name: string, handler: any) => {\r\n    return EventHandlerUtil.on(this.element, name, handler)\r\n  }\r\n\r\n  public one = (name: string, handler: any) => {\r\n    return EventHandlerUtil.one(this.element, name, handler)\r\n  }\r\n\r\n  public off = (name: string) => {\r\n    return EventHandlerUtil.off(this.element, name)\r\n  }\r\n\r\n  // public static methods\r\n  // Get KTMenu instance by element\r\n  public static getInstance = (element: HTMLElement) => {\r\n    // Element has menu DOM reference in it's DATA storage\r\n    const elementMenu = DataUtil.get(element, 'menu')\r\n    if (elementMenu) {\r\n      return elementMenu\r\n    }\r\n\r\n    // Element has .menu parent\r\n    const menu = element.closest('.menu')\r\n    if (menu) {\r\n      const menuData = DataUtil.get(menu as HTMLElement, 'menu')\r\n      if (menuData) {\r\n        return menuData\r\n      }\r\n    }\r\n\r\n    // Element has a parent with DOM reference to .menu in it's DATA storage\r\n    if (element.classList.contains('menu-link')) {\r\n      const sub = element.closest('.menu-sub')\r\n      if (sub) {\r\n        const subMenu = DataUtil.get(sub as HTMLElement, 'menu')\r\n        if (subMenu) {\r\n          return subMenu\r\n        }\r\n      }\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  // Hide all dropdowns and skip one if provided\r\n  public static hideDropdowns = (skip: HTMLElement | undefined) => {\r\n    const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]')\r\n\r\n    if (items && items.length > 0) {\r\n      for (let i = 0, len = items.length; i < len; i++) {\r\n        const item = items[i]\r\n        const menu = MenuComponent.getInstance(item as HTMLElement)\r\n\r\n        if (menu && menu.getItemSubType(item) === 'dropdown') {\r\n          if (skip) {\r\n            if (\r\n              menu.getItemSubElement(item).contains(skip) === false &&\r\n              item.contains(skip) === false &&\r\n              item !== skip\r\n            ) {\r\n              menu.hide(item)\r\n            }\r\n          } else {\r\n            menu.hide(item)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static updateDropdowns = () => {\r\n    const items = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]')\r\n    if (items && items.length > 0) {\r\n      for (var i = 0, len = items.length; i < len; i++) {\r\n        var item = items[i]\r\n\r\n        if (DataUtil.has(item as HTMLElement, 'popper')) {\r\n          DataUtil.get(item as HTMLElement, 'popper').forceUpdate()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Global handlers\r\n  public static createInstances = (selector: string) => {\r\n    // Initialize menus\r\n    document.querySelectorAll(selector).forEach((el) => {\r\n      const menuItem = el as HTMLElement\r\n      let menuInstance = MenuComponent.getInstance(menuItem)\r\n      if (!menuInstance) {\r\n        menuInstance = new MenuComponent(el as HTMLElement, defaultMenuOptions)\r\n      }\r\n    })\r\n  }\r\n\r\n  public static initGlobalHandlers = () => {\r\n    // Dropdown handler\r\n    document.addEventListener('click', (e) => {\r\n      const menuItems = document.querySelectorAll('.show.menu-dropdown[data-kt-menu-trigger]')\r\n      if (menuItems && menuItems.length > 0) {\r\n        for (let i = 0; i < menuItems.length; i++) {\r\n          const item = menuItems[i] as HTMLElement\r\n          const menuObj = MenuComponent.getInstance(item) as MenuComponent\r\n          if (menuObj && menuObj.getItemSubType(item) === 'dropdown') {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const menu = menuObj.getElement()\r\n            const sub = menuObj.getItemSubElement(item) as HTMLElement\r\n            if (item === e.target || item.contains(e.target as HTMLElement)) {\r\n              continue\r\n            }\r\n\r\n            if (sub && (sub === e.target || sub.contains(e.target as HTMLElement))) {\r\n              continue\r\n            }\r\n            menuObj.hide(item)\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    // Sub toggle handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '.menu-item[data-kt-menu-trigger] > .menu-link, [data-kt-menu-trigger]:not(.menu-item):not([data-kt-menu-trigger=\"auto\"])',\r\n      'click',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu) {\r\n          return menu.click(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // // Link handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '.menu-item:not([data-kt-menu-trigger]) > .menu-link',\r\n      'click',\r\n      function (this: HTMLElement, e: Event) {\r\n        e.stopPropagation()\r\n        const menu = MenuComponent.getInstance(this)\r\n        if (menu && menu.link) {\r\n          return menu.link(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Dismiss handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '[data-kt-menu-dismiss=\"true\"]',\r\n      'click',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu) {\r\n          return menu.dismiss(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Mouseover handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '[data-kt-menu-trigger], .menu-sub',\r\n      'mouseover',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu && menu.getItemSubType(this) === 'dropdown') {\r\n          return menu.mouseover(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Mouseout handler\r\n    DOMEventHandlerUtil.on(\r\n      document.body,\r\n      '[data-kt-menu-trigger], .menu-sub',\r\n      'mouseout',\r\n      function (this: HTMLElement, e: Event) {\r\n        const menu = MenuComponent.getInstance(this) as MenuComponent\r\n        if (menu && menu.getItemSubType(this) === 'dropdown') {\r\n          return menu.mouseout(this, e)\r\n        }\r\n      }\r\n    )\r\n\r\n    // Resize handler\r\n    window.addEventListener('resize', () => {\r\n      let timer\r\n      throttle(\r\n        timer,\r\n        () => {\r\n          // Locate and update Drawer instances on window resize\r\n          const elements = document.querySelectorAll('[data-kt-menu=\"true\"]')\r\n          elements.forEach((el) => {\r\n            const menu = MenuComponent.getInstance(el as HTMLElement)\r\n            if (menu) {\r\n              menu.update()\r\n            }\r\n          })\r\n        },\r\n        200\r\n      )\r\n    })\r\n  }\r\n\r\n  public static bootstrap = () => {\r\n    MenuComponent.initGlobalHandlers()\r\n    MenuComponent.createInstances('[data-kt-menu=\"true\"]')\r\n  }\r\n\r\n  public static reinitialization = () => {\r\n    MenuComponent.createInstances('[data-kt-menu=\"true\"]')\r\n  }\r\n\r\n  public static createInsance = (\r\n    selector: string,\r\n    options: MenuOptions = defaultMenuOptions\r\n  ): MenuComponent | undefined => {\r\n    const element = document.body.querySelector(selector)\r\n    if (!element) {\r\n      return\r\n    }\r\n    const item = element as HTMLElement\r\n    let menu = MenuComponent.getInstance(item)\r\n    if (!menu) {\r\n      menu = new MenuComponent(item, options)\r\n    }\r\n    return menu\r\n  }\r\n}\r\n\r\nexport {MenuComponent, defaultMenuOptions}\r\n"]},"metadata":{},"sourceType":"module"}